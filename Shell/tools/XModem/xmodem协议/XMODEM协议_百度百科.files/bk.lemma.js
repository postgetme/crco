var G=baidu.G;(function(){this.FX=function(F,E,H,I,J,D){this.el=A.get(F);this.attributes=E;this.duration=H||0.7;this.transition=(!!I&&I in FX.transitions)?I:"easeInOut";this.callback=J||function(){};this.ctx=D||window;this.units={};this.frame={};this.endAttr={};this.startAttr={}};this.FX.transitions={linear:function(E,D,H,F){return H*E/F+D},easeIn:function(E,D,H,F){return -H*Math.cos(E/F*(Math.PI/2))+H+D},easeOut:function(E,D,H,F){return H*Math.sin(E/F*(Math.PI/2))+D},easeInOut:function(E,D,H,F){return -H/2*(Math.cos(Math.PI*E/F)-1)+D}};this.FX.prototype={start:function(){var D=this;this.getAttributes();this.duration=this.duration*1000;this.time=new Date().getTime();this.animating=true;this.timer=setInterval(function(){var E=new Date().getTime();if(E<(D.time+D.duration)){D.elapsed=E-D.time;D.setCurrentFrame()}else{D.frame=D.endAttr;D.complete()}D.setAttributes()},10)},ease:function(E,D){return FX.transitions[this.transition](this.elapsed,E,D-E,this.duration)},complete:function(){clearInterval(this.timer);this.timer=null;this.animating=false;this.callback.call(this.ctx)},setCurrentFrame:function(){for(attr in this.startAttr){if(this.startAttr[attr] instanceof Array){this.frame[attr]=[];for(var D=0;D<this.startAttr[attr].length;D++){this.frame[attr][D]=this.ease(this.startAttr[attr][D],this.endAttr[attr][D])}}else{this.frame[attr]=this.ease(this.startAttr[attr],this.endAttr[attr])}}},getAttributes:function(){for(var D in this.attributes){switch(D){case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":this.startAttr[D]=B(this.attributes[D].from||A.getStyle(this.el,D));this.endAttr[D]=B(this.attributes[D].to);break;case"scrollTop":case"scrollLeft":var H=(this.el==document.body)?(document.documentElement||document.body):this.el;this.startAttr[D]=this.attributes[D].from||H[D];this.endAttr[D]=this.attributes[D].to;break;default:var I;var E=this.attributes[D].to;var F=this.attributes[D].units||"px";if(!!this.attributes[D].from){I=this.attributes[D].from}else{I=parseFloat(A.getStyle(this.el,D))||0;if(F!="px"&&document.defaultView){A.setStyle(this.el,D,(E||1)+F);I=((E||1)/parseFloat(A.getStyle(this.el,D)))*I;A.setStyle(this.el,D,I+F)}}this.units[D]=F;this.endAttr[D]=E;this.startAttr[D]=I;break}}},setAttributes:function(){for(var D in this.frame){switch(D){case"opacity":A.setStyle(this.el,D,this.frame[D]);break;case"scrollLeft":case"scrollTop":var F=(this.el==document.body)?(document.documentElement||document.body):this.el;F[D]=this.frame[D];break;case"color":case"borderColor":case"border-color":case"backgroundColor":case"background-color":var E="rgb("+Math.floor(this.frame[D][0])+","+Math.floor(this.frame[D][1])+","+Math.floor(this.frame[D][2])+")";A.setStyle(this.el,D,E);break;default:A.setStyle(this.el,D,this.frame[D]+this.units[D]);break}}}};var A={get:function(D){return(typeof D=="string")?document.getElementById(D):D},getStyle:function(F,H){H=C(H);var D=document.defaultView;if(D&&D.getComputedStyle){return D.getComputedStyle(F,"")[H]||null}else{if(H=="opacity"){var E=F.filters("alpha").opacity;return isNaN(E)?1:(E?E/100:0)}return F.currentStyle[H]||null}},setStyle:function(D,F,E){if(F=="opacity"){D.style.filter="alpha(opacity="+E*100+")";D.style.opacity=E}else{F=C(F);D.style[F]=E}}};var C=(function(){var D={};return function(J){if(!D[J]){var I=J.split("-"),H=I[0];if(I.length>1){for(var F=1,E=I.length;F<E;F++){H+=I[F].charAt(0).toUpperCase()+I[F].substring(1)}}return D[J]=H}else{return D[J]}}})();var B=(function(){var F=(/^#?(\w{2})(\w{2})(\w{2})$/);var D=(/^#?(\w{1})(\w{1})(\w{1})$/);var E=(/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/);return function(I){var H=I.match(F);if(H&&H.length==4){return[parseInt(H[1],16),parseInt(H[2],16),parseInt(H[3],16)]}H=I.match(E);if(H&&H.length==4){return[parseInt(H[1],10),parseInt(H[2],10),parseInt(H[3],10)]}H=I.match(D);if(H&&H.length==4){return[parseInt(H[1]+H[1],16),parseInt(H[2]+H[2],16),parseInt(H[3]+H[3],16)]}}})()})();baidu.extend(String.prototype,{byteLength:function(){return this.replace(/[^\u0000-\u007f]/g,"\u0061\u0061").length},subByte:function(E,D){if(this.byteLength()<=E){return this}for(var B=Math.floor((E=E-2)/2),A=this.length;B<A;B++){var C=this.substring(0,B);if(C.byteLength()>=E){return C+(D!=undefined?D:"...")}}return this}});if(typeof (HTMLElement)!="undefined"&&!window.opera){HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent});HTMLElement.prototype.__defineSetter__("innerText",function(A){this.textContent=A})}baidu.extend(Function.prototype,{createCallback:function(){var A=arguments,B=this;return function(){return B.apply(window,A)}},createDelegate:function(C,B,A){var D=this;return function(){var F=B||arguments;if(A===true){F=Array.prototype.slice.call(arguments,0);F=F.concat(B)}else{if(baidu.lang.isNumber(A)){F=Array.prototype.slice.call(arguments,0);var E=[A,0].concat(B);Array.prototype.splice.apply(F,E)}}return D.apply(C||window,F)}},defer:function(C,E,B,A){var D=this.createDelegate(E,B,A);if(C>0){return setTimeout(D,C)}D();return 0}});baidu.proxy=function(C,A){var B=Array.prototype.slice.call(arguments,1);return function(){C.apply(null,B)}};baidu.more=baidu.more||{};baidu.more.ns=function(E){var F=E.split(".");var B=window;for(var D=0,A=F.length;D<A;D++){var C=F[D];if(C==""){continue}B[C]=(B[C]||{});B=B[C]}};if(!window.console||!console.firebug){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console=(typeof window.loadFirebugConsole=="function")?window.loadFirebugConsole():{};for(var i=0;i<names.length;++i){window.console[names[i]]=function(){}}}function nslog(B,D,A){var C=(new Date()).getTime();var E=["http://nsclick.baidu.com/v.gif?pid="+nslog.pid,"url="+encodeURIComponent(B),"type="+D,"t="+C];for(k in A){E.push(k+"="+A[k])}for(k in nslog.log_params){E.push(k+"="+nslog.log_params[k])}nslog.req(E.join("&"))}nslog.pid=103;nslog.log_params={};nslog.set=function(A,B){nslog.log_params[A]=B};nslog.sid=((new Date()).getTime()+"_"+Math.round(Math.random()*2147483637));nslog.stat=function(A){nslog.req("/js/blank.js?func="+A+"&sid="+nslog.sid+"&t="+(new Date()).getTime())};nslog.req=function(A){var C="iknowlog_"+(new Date()).getTime();var B=window[C]=new Image();B.onload=B.onerror=function(){window[C]=null};B.src=A;B=null};function baidumessage(){if(baidu.G("mnum")){baidu.sio.callByBrowser("http://msg.baidu.com/ms?ct=18&cm=3&tn=bmSelfUsrStat&mpn=13227114&un="+baidu.G("login-user-name").innerHTML,function(){if(redmsg){redmsg=redmsg.replace(/\u6211\u7684/g,"");redmsg=redmsg.replace(/\/\d+\)/,")");if(/>0<\/span>/g.test(redmsg)||/\(0\)/g.test(redmsg)){redmsg=redmsg.replace(/\([^\)]+\)/g,"")}baidu.G("mnum").innerHTML="<span class='usrbar-split'>|</span>"+redmsg}})}}baidu.dom.ready(baidumessage);var g_pop=g_pop||function(){};if(!Array.prototype.push){Array.prototype.push=function(){var B=this.length;for(var A=0;A<arguments.length;A++){this[B+A]=arguments[A]}return this.length}}function G(){var C=new Array();for(var B=0;B<arguments.length;B++){var A=arguments[B];if(typeof A=="string"){A=document.getElementById(A)}if(arguments.length==1){return A}C.push(A)}return C}Function.prototype.bind=function(B){var A=this;return function(){A.apply(B,arguments)}};Function.prototype.bindAsEventListener=function(B){var A=this;return function(C){A.call(B,C||window.event)}};Object.extend=function(A,B){for(property in B){A[property]=B[property]}return A};if(!window.Event){var Event=new Object()}Object.extend(Event,{observers:false,element:function(A){return A.target||A.srcElement},isLeftClick:function(A){return(((A.which)&&(A.which==1))||((A.button)&&(A.button==1)))},pointerX:function(A){return A.pageX||(A.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))},pointerY:function(A){return A.pageY||(A.clientY+(document.documentElement.scrollTop||document.body.scrollTop))},stop:function(A){if(A.preventDefault){A.preventDefault();A.stopPropagation()}else{A.returnValue=false;A.cancelBubble=true}},findElement:function(C,B){var A=Event.element(C);while(A.parentNode&&(!A.tagName||(A.tagName.toUpperCase()!=B.toUpperCase()))){A=A.parentNode}return A},_observeAndCache:function(D,C,B,A){if(!this.observers){this.observers=[]}if(D.addEventListener){this.observers.push([D,C,B,A]);D.addEventListener(C,B,A)}else{if(D.attachEvent){this.observers.push([D,C,B,A]);D.attachEvent("on"+C,B)}}},unloadCache:function(){if(!Event.observers){return }for(var A=0;A<Event.observers.length;A++){Event.stopObserving.apply(this,Event.observers[A]);Event.observers[A][0]=null}Event.observers=false},observe:function(D,C,B,A){if("string"==typeof D){D=G(D)}A=A||false;if(C=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||D.attachEvent)){C="keydown"}this._observeAndCache(D,C,B,A)},stopObserving:function(D,C,B,A){if("string"==typeof D){D=G(D)}A=A||false;if(C=="keypress"&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||D.detachEvent)){C="keydown"}if(D.removeEventListener){D.removeEventListener(C,B,A)}else{if(D.detachEvent){D.detachEvent("on"+C,B)}}}});Event.observe(window,"unload",Event.unloadCache,false);var Class=function(){var A=function(){this.initialize.apply(this,arguments)};for(i=0;i<arguments.length;i++){superClass=arguments[i];for(member in superClass.prototype){A.prototype[member]=superClass.prototype[member]}}A.child=function(){return new Class(this)};A.extend=function(B){for(property in B){A.prototype[property]=B[property]}};return A};var Popup=new Class();Popup.prototype={iframeIdName:"ifr_popup",initialize:function(A){this.config=Object.extend({contentType:1,isHaveTitle:true,scrollType:"no",isBackgroundCanClick:false,isSupportDraging:true,isShowShadow:true,isReloadOnClose:true,width:400,isPop:false,height:300},A||{});this.info={shadowWidth:3,title:"",contentUrl:"",contentHtml:"",callBack:null,parameter:null,confirmCon:"",alertCon:"",someHiddenTag:"select,object,embed",someDisabledBtn:"",someHiddenEle:"",overlay:0,coverOpacity:30};this.color={cColor:"#000",bColor:"#FFFFFF",tColor:"#709CD2",wColor:"#FFFFFF"};this.dropClass=null;this.someToHidden=[];this.someToDisabled=[];if(!this.config.isHaveTitle){this.config.isSupportDraging=false}this.iniBuild()},setContent:function(A,B){if(B!=""){switch(A){case"width":this.config.width=B;break;case"height":this.config.height=B;break;case"title":this.info.title=B;break;case"contentUrl":this.info.contentUrl=B;break;case"contentHtml":this.info.contentHtml=B;break;case"callBack":this.info.callBack=B;break;case"parameter":this.info.parameter=B;break;case"confirmCon":this.info.confirmCon=B;break;case"alertCon":this.info.alertCon=B;break;case"someHiddenTag":this.info.someHiddenTag=B;break;case"someHiddenEle":this.info.someHiddenEle=B;break;case"someDisabledBtn":this.info.someDisabledBtn=B;break;case"overlay":this.info.overlay=B}}},iniBuild:function(){var A=G("dialogCase");if(A){document.body.removeChild(A)}A=document.createElement("DIV");A.id="dialogCase";A.style.zIndex=65535;A.style.top=0;A.style.left=0;A.style.position="absolute";A.style.width="100%";document.body.appendChild(A)},build:function(){var B=10001+this.info.overlay*10;var I=B+2;this.iframeIdName="ifr_popup"+this.info.overlay;var K="http://img.baidu.com/hi/img/";var J='<div id="dialogBoxClose" style="width:18px;height:18px;cursor:pointer;margin-bottom:2px;"><div>';var F="filter: alpha(opacity="+this.info.coverOpacity+");opacity:"+this.info.coverOpacity/100+";";var L='<div id="dialogBoxBG" style="position:absolute;top:0px;left:0px;z-index:'+B+";"+F+"background-color:"+this.color.cColor+';display:none;"></div>';var E='<div id="dialogBox" style="border:1px solid #104987;display:none;z-index:'+I+";position:relative;width:"+this.config.width+'px;background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x scroll 0 -68px #1169B1;padding:1px;"><table width="100%" border="0" cellpadding="0" cellspacing="0" style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x 0 -144px">';if(this.config.isHaveTitle){E+='<tr height="29"><td style="background:url(\'http://img.baidu.com/img/baike/editor/edithelper.gif\') no-repeat right -68px transparent;"><table style="-moz-user-select:none;height:24px;" width="100%" border="0" cellpadding="0" cellspacing="0" ><tr><td width="6" height="24"></td><td id="dialogBoxTitle" style="color:'+this.color.wColor+';font-size:14px;font-weight:bold;">'+this.info.title+'&nbsp;</td><td id="dialogClose" width="18" align="right" valign="middle">'+J+'</td><td width="9"></td></tr></table></td></tr>'}else{E+='<tr height="10"><td align="right">'+J+"</td></tr>"}E+='<tr id="container-tr" style="height:'+(this.config.height-36)+'px" valign="top"><td style="position:relative;padding:1px;"><div style="border:1px solid #FFF;"><div style="background:url(\'http://img.baidu.com/img/baike/editor/bgs.gif\') repeat-x #FFF;height:13px;line-height:13px;font-size:1px;">&nbsp;</div><div id="dialogBody" style="background-color:#FFF;height:'+(this.config.height-46)+"px;width:"+(this.config.width-4)+'px"></div></div></td></tr></table></div><div id="dialogBoxShadow" style="display:none;z-index:'+B+';"></div>';if(!this.config.isBackgroundCanClick){G("dialogCase").innerHTML=L+E;var H=document,D=H.body,C=H.documentElement,A=H.compatMode=="BackCompat"?D:H.documentElement;G("dialogBoxBG").style.height=Math.max(C.scrollHeight,D.scrollHeight,A.clientHeight)+"px";G("dialogBoxBG").style.width=window.screen.width+"px"}else{G("dialogCase").innerHTML=E}Event.observe(G("dialogBoxClose"),"click",this.reset.bindAsEventListener(this),false);if(this.config.isSupportDraging){dropClass=new Dragdrop(this.config.width,this.config.height,this.info.shadowWidth,this.config.isSupportDraging,this.config.contentType);G("dialogBoxTitle").style.cursor="move"}this.lastBuild()},lastBuild:function(){var B='<div style="width:100%;height:100%;text-align:center;"><div style="margin:0 20px 0 20px;padding-top:20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.confirmCon+'</div><div style="margin:20px;"><input id="dialogOk" type="button" value="  确定  "/>&nbsp;<input id="dialogCancel" type="button" value="  取消  "/></div></div>';var E='<div style="width:100%;height:100%;text-align:center;"><div style="margin:20px 20px 0 20px;font-size:14px;line-height:16px;color:#000000;">'+this.info.alertCon+'</div><div style="margin:20px;"><input id="dialogYES" type="button" value="  确定  "/></div></div>';var A=10001+this.info.overlay*10;var D=A+4;if(this.config.contentType==1){var C="<iframe style='height:"+(this.config.height-46)+"px;width:"+(this.config.width-4)+"px;' name='"+this.iframeIdName+"' id='"+this.iframeIdName+"' src='"+this.info.contentUrl+"' frameborder='0' scrolling='"+this.config.scrollType+"'></iframe>";var F="<div id='iframeBG' style='position:absolute;top:0px;left:0px;width:1px;height:1px;z-index:"+D+";filter: alpha(opacity=00);opacity:0.00;background-color:#ffffff;'><div>";G("dialogBody").innerHTML=C+F}else{if(this.config.contentType==2){G("dialogBody").innerHTML=this.info.contentHtml}else{if(this.config.contentType==3){G("dialogBody").innerHTML=B;Event.observe(G("dialogOk"),"click",this.forCallback.bindAsEventListener(this),false);Event.observe(G("dialogCancel"),"click",this.close.bindAsEventListener(this),false)}else{if(this.config.contentType==4){G("dialogBody").innerHTML=E;Event.observe(G("dialogYES"),"click",this.close.bindAsEventListener(this),false)}}}}},reBuild:function(){G("dialogBody").height=G("dialogBody").clientHeight;this.lastBuild()},show:function(){this.hiddenSome();this.middle();if(this.config.isShowShadow){this.shadow()}},resize:function(C,F,I){this.setContent("width",C);this.setContent("height",F);var H=G("dialogBox");var E=G("dialogBody");H.style["width"]=C+"px";H.style["height"]=F+"px";var D=G(this.iframeIdName);D.style["height"]=F-46+"px";D.style["width"]=C-4+"px";E.style["height"]=F-46+"px";E.style["width"]=C-4+"px";if(I){this.setContent("title",I);var B=G("dialogBoxTitle");B.innerHTML=I+"&nbsp;"}var A=G("container-tr");A.style["height"]=F-36+"px";this.show()},forCallback:function(){return this.info.callBack(this.info.parameter)},shadow:function(){var A=G("dialogBoxShadow");var B=G("dialogBox");A.style["top"]=B.offsetTop+this.info.shadowWidth+10+"px";A.style["left"]=B.offsetLeft+this.info.shadowWidth+6+"px";A.style["width"]=B.offsetWidth-6+"px";A.style["height"]=B.offsetHeight-10+"px";A.style["position"]="absolute";A.style["background"]="#000";A.style["display"]="";A.style["opacity"]="0.1";A.style["filter"]="alpha(opacity=20)"},middle:function(){if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display=""}var F=G("dialogBox");F.style["position"]="absolute";F.style["display"]="";var C=(document.documentElement.clientWidth||document.body.clientWidth);var E=(document.documentElement.clientHeight||document.body.clientHeight);var B=(document.documentElement.scrollTop||document.body.scrollTop);var D=(C/2)-(F.offsetWidth/2);var A=(E/2+B)-(F.offsetHeight/2);if(A<B){A=20+B}if(D<1){D=20}F.style["left"]=D+"px";F.style["top"]=A+"px"},reset:function(A){this.close();if(typeof A!=="boolean"){A=false}if(this.config.isReloadOnClose||A){top.location.href=top.location.href.replace(/#.*$/g,"")}},close:function(){G("dialogBox").style.display="none";if(!this.config.isBackgroundCanClick){G("dialogBoxBG").style.display="none"}if(this.config.isShowShadow){G("dialogBoxShadow").style.display="none"}G("dialogBody").innerHTML="";this.showSome()},hiddenSome:function(){var A=this.info.someHiddenTag.split(",");if(A.length==1&&A[0]==""){A.length=0}for(var B=0;B<A.length;B++){this.hiddenTag(A[B])}var C=this.info.someHiddenEle.split(",");if(C.length==1&&C[0]==""){C.length=0}for(var B=0;B<C.length;B++){this.hiddenEle(C[B])}var C=this.info.someDisabledBtn.split(",");if(C.length==1&&C[0]==""){C.length=0}for(var B=0;B<C.length;B++){this.disabledBtn(C[B])}},disabledBtn:function(B){var A=document.getElementById(B);if(typeof (A)!="undefined"&&A!=null&&A.disabled==false){A.disabled=true;this.someToDisabled.push(A)}},hiddenTag:function(B){var C=document.getElementsByTagName(B);if(C!=null){for(var A=0;A<C.length;A++){if(C[A].style.display!="none"&&C[A].style.visibility!="hidden"){C[A].style.visibility="hidden";this.someToHidden.push(C[A])}}}},hiddenEle:function(B){var A=document.getElementById(B);if(typeof (A)!="undefined"&&A!=null){A.style.visibility="hidden";this.someToHidden.push(A)}},showSome:function(){for(var A=0;A<this.someToHidden.length;A++){this.someToHidden[A].style.visibility="visible"}for(var A=0;A<this.someToDisabled.length;A++){this.someToDisabled[A].disabled=false}},replaceIframe:function(A){this.setContent("contentUrl",A);G(this.iframeIdName).src=A}};var Dragdrop=new Class();Dragdrop.prototype={initialize:function(C,B,A,D,E){this.dragData=null;this.dragDataIn=null;this.backData=null;this.width=C;this.height=B;this.shadowWidth=A;this.showShadow=D;this.contentType=E;this.IsDraging=false;this.oObj=G("dialogBox");Event.observe(G("dialogBoxTitle"),"mousedown",this.moveStart.bindAsEventListener(this),false)},moveStart:function(A){this.IsDraging=true;if(this.contentType==1){G("iframeBG").style.display="";G("iframeBG").style.width=this.width+"px";G("iframeBG").style.height=this.height+"px"}Event.observe(document,"mousemove",this.mousemove.bindAsEventListener(this),false);Event.observe(document,"mouseup",this.mouseup.bindAsEventListener(this),false);Event.observe(document,"selectstart",this.returnFalse,false);this.dragData={x:Event.pointerX(A),y:Event.pointerY(A)};this.backData={x:parseInt(this.oObj.style.left),y:parseInt(this.oObj.style.top)};if(document.body.setCapture){document.body.setCapture()}},mousemove:function(A){if(!this.IsDraging){return }var C=Event.pointerX(A)-this.dragData.x+parseInt(this.oObj.style.left);var B=Event.pointerY(A)-this.dragData.y+parseInt(this.oObj.style.top);if(this.dragData.y<parseInt(this.oObj.style.top)){B=B-12}else{if(this.dragData.y>parseInt(this.oObj.style.top)+25){B=B+12}}this.oObj.style.left=C+"px";this.oObj.style.top=B+"px";if(this.showShadow){G("dialogBoxShadow").style.left=C+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=B+this.shadowWidth+10+"px"}this.dragData={x:Event.pointerX(A),y:Event.pointerY(A)};document.body.style.cursor="move"},mouseup:function(C){if(!this.IsDraging){return }if(this.contentType==1){G("iframeBG").style.display="none"}document.onmousemove=null;document.onmouseup=null;var B=Event.pointerX(C)-(document.documentElement.scrollLeft||document.body.scrollLeft);var A=Event.pointerY(C)-(document.documentElement.scrollTop||document.body.scrollTop);if(B<1||A<1||B>document.body.clientWidth||A>document.body.clientHeight){this.oObj.style.left=this.backData.x+"px";this.oObj.style.top=this.backData.y+"px";if(this.showShadow){G("dialogBoxShadow").style.left=this.backData.x+this.shadowWidth+6+"px";G("dialogBoxShadow").style.top=this.backData.y+this.shadowWidth+10+"px"}}this.IsDraging=false;document.body.style.cursor="";Event.stopObserving(window,"selectstart",this.returnFalse,false);if(document.body.releaseCapture){document.body.releaseCapture()}},returnFalse:function(){return false}};var baikeLoginArgs=[];function userLogin(){switch(arguments.length){case 0:relogin();break;case 1:baikeLoginArgs=[arguments[0]];loginflag.setLoginArr("loginSt",0);loginflag.setLoginArr("loginUrl",arguments[0]);checkIfLogin();break;default:baikeLoginArgs=[arguments[0],arguments[1]];loginflag.setLoginArr("loginSt",1);loginflag.setLoginArr("isDetect",arguments[0]);loginflag.setLoginArr("loginTip",arguments[1]);checkIfLogin();break}nslog(location.href,88,{name:"login"})}function checkReloginResult(){afterLogin()}function afterLogin(){switch(baikeLoginArgs.length){case 0:try{UnloadConfirm.clear()}catch(A){}window.location=location.href.replace(/#.*/,"");g_pop.close();break;case 1:window.location=baikeLoginArgs[0];g_pop.close();break;default:g_pop.close();if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(A){submitform()}}break}}function relogin(A){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl","/page/userlogin.html"+(A?("?fr="+A):""));g_pop.build();g_pop.show()}var userlogin=userlogin||function(){};userlogin.reg=function(A){var B="/page/userlogin.html?userreg"+(A?("&fr="+A):"");g_pop=new Popup({contentType:1,isReloadOnClose:false,width:408,height:345});g_pop.setContent("title","登录到百度百科");g_pop.setContent("contentUrl",B);g_pop.build();g_pop.show()};var regOkHandler=function(A){g_pop.replaceIframe("/page/regok.html?un="+encodeURIComponent(A));g_pop.resize(538,395)};var offlineTimer;function checkIfLogin(){var B="http://baike.baidu.com/login?s="+Math.random();var A=document.createElement("script");A.setAttribute("type","text/javascript");A.setAttribute("src",B);document.getElementsByTagName("head")[0].appendChild(A);offlineTimer=setTimeout(loginWarn,15000)}function wiki_relogin(){clearTimeout(offlineTimer);if(arguments[0]==1){if(loginflag.getLoginArr("loginSt")==0){loginflag.setLoginArr("loginTip",0);var C=loginflag.getLoginArr("loginUrl");var E=setParamURL(C);if(document.images){var B=new Image();var D=addURLParam("/js/blank.js","id",E);B.src=addURLParam(D,"logTp",0)}relogin(C)}else{relogin(loginflag.getLoginArr("isDetect"),loginflag.getLoginArr("loginTip"))}}else{if(loginflag.getLoginArr("loginSt")==0){window.location=loginflag.getLoginArr("loginUrl")}else{if(loginflag.getLoginArr("isDetect")==3){Detect.detecting()}else{try{cnEdit()}catch(A){submitform()}}}}}function loginWarn(){var A='			<br>			<div style="font-size:14px;font-weight:bold;text-align:center;padding:10px 10px">请检查您的网络链接，重新进行提交</div>	';g_pop=new Popup({contentType:2,isReloadOnClose:false,width:350,height:120});g_pop.setContent("title","提示");g_pop.setContent("contentHtml",A);g_pop.build();g_pop.show()}function addURLParam(C,B,A){C+=(C.indexOf("?")==-1?"?":"&");C+=B+"="+A;return C}function setParamURL(B){if(B.indexOf("id=")!=-1){var A=(B.match(/id=\d+/).toString().substr(3));return A}}var loginFlag=function(){};(function loginStatus(){var A=new Array();A.loginTip=0;loginFlag.prototype.setLoginArr=function(B,C){A[B]=C};loginFlag.prototype.getLoginArr=function(B){return A[B]}})();var loginflag=new loginFlag();function getCookie(C){var B="(?:; )?"+C+"=([^;]*);?";var A=new RegExp(B);if(A.test(document.cookie)){return decodeURIComponent(RegExp["$1"])}else{return null}}function setCookie(F,H,B,C,A,E){var D=F+"="+encodeURIComponent(H);if(B){D+="; expires="+B.toGMTString()}if(C){D+="; path="+C}if(A){D+="; domain="+A}if(E){D+="; secure"}document.cookie=D}function setSug(){g_pop=new Popup({contentType:1,isReloadOnClose:false,width:300,height:180});g_pop.setContent("title","设置");g_pop.setContent("contentUrl","/page/suggestion.html");g_pop.build();g_pop.show()}function userlogin(B,A){userlogin.onLoginSuccess=B||userlogin.defalutLoginSuccess;userLogin()}userlogin.defalutLoginSuccess=userlogin.onLoginSuccess=function(){window.location.href=window.location.href.replace(/#.*$/g,"")};userlogin.onLoginFailed=function(){window.location="http://passport.baidu.com/?login&tpl=wk&u="+escape("http://baike.baidu.com/")};userlogin.check=function(D,A,C){function B(F,H,E){if(baidu.trim(F.responseText)=="0"){if(E){E()}else{userlogin(H,C)}return false}if(H){H()}return true}baidu.ajax.get("/api/login/?t="+(new Date()).getTime()+(C?("&fr="+C):""),function(E){B(E,D,A);console.log(E)})};userlogin.api=(function(){var loginConfig={immediate:true,jumpUrl:"http://baike.baidu.com/page/logincallback.html?fr=loginapi",labelName:{password:"密\u3000码："},onSuccess:function(){window.location=location.href.replace(/#.*/,"")},onSystemError:function(){window.location=["http://passport.baidu.com/?login","tpl=wk",("u="+escape("http://baike.baidu.com/"))].join("&")},container_id:"user-login-container"};var loginParams={};function getPassportConfig(){var loginUrl=["http://passport.baidu.com/api/?login","tpl=wk","callback=userlogin.api.init",("time="+new Date().getTime())].join("&");baidu.sio.callByServer(loginUrl)}function setConfig(conf){baidu.object.extend(loginConfig,conf)}function configInit(conf){loginParams=eval(conf);if(loginParams.error_no==1){}else{baidu.sio.callByBrowser(loginParams.jslink,buildLoginPage)}}function buildLoginPage(){bdPass.LoginTemplate.render(loginParams,loginConfig.container_id,loginConfig)}return{get:getPassportConfig,set:setConfig,init:configInit,render:buildLoginPage}})();userlogin.userbarinit=function(){var A=baidu.G("logout");if(A&&(A.className!="goto-index")){A.href="https://passport.baidu.com/?logout&u="+escape(location.href)}};baidu.dom.ready(userlogin.userbarinit);baidu.more.ns("bk.userbar");bk.userbar.check=function(){baidu.ajax.get("/api/login/?t="+(new Date()).getTime(),function(A){bk.userbar.build(A)})};bk.userbar.build=function(req){var user=eval("("+req.responseText+")");var userbarHtml=[];if(user){userbarHtml.push('<strong><a href="http://passport.baidu.com/center" target="_blank" id="login-user-name" class="nslog:80">'+user.name+"</a></strong> "+user.title);if(user.forbid){userbarHtml.push('<span class="red">禁止发表词条</span>')}userbarHtml.push('<span id="mnum" class="nslog-area" data-nslog-type="85"></span><span class="usrbar-split">|</span><span id="my_home_container"><a id="my_home" target="_blank" class="nslog:81" href="http://baike.baidu.com/uc/home">我的百科</a></span><span class="usrbar-split">|</span><a target="_blank" href="http://zhidao.baidu.com/q?ct=24&amp;cm=16&amp;tn=ucframework&amp;fr=wk" class="nslog:84">我的知道</a>');if(user.hasspace=="true"){userbarHtml.push('<span class="usrbar-split">|</span><a target="_blank" href="http://hi.baidu.com/sys/checkuser/'+user.name+'/3" class="nslog:86">我的空间</a>')}userbarHtml.push('<span class="usrbar-split">|</span><a href="http://www.baidu.com" class="nslog:87">百度首页</a> <span class="usrbar-split">|</span> ');userbarHtml.push('<a id="logout" target="_self" href="https://passport.baidu.com/?logout&amp;u=http://baike.baidu.com" nslog:89">退出</a>')}else{userbarHtml.push('<a href="http://www.baidu.com" class="nslog:87">百度首页</a><span class="usrbar-split">|</span><a href="https://passport.baidu.com/?login&amp;tpl=wk" class="nslog:88" onclick="userlogin();return false">登录</a>')}if(user){userbarHtml.push('<div id="nav_extra" style="display:none"><div class="top"><a href="/uc/home" class="nslog:81" target="_blank">我的百科</a></div><div class="body">');if(user.channeladmin){userbarHtml.push('<div><a target="_blank" href="http://baike.baidu.com/channel-admin/" class="nslog:1002">分类管理员</a></div>')}userbarHtml.push('<div><a target="_blank" class="nslog:82" href="http://baike.baidu.com/uc/effort">我的贡献</a></div><div><a target="_blank" class="nslog:83" href="http://baike.baidu.com/uc/draft">草稿箱</a></div><div><a target="_blank" class="nslog:1003" href="http://baike.baidu.com/uc/task">我的任务</a></div><div><a target="_blank" class="nslog:1004" href="http://baike.baidu.com/uc/recommend">为我推荐</a></div></div></div>')}baidu.g("usrbar").innerHTML=userbarHtml.join("");bk.userbar.init();baidumessage();userlogin.userbarinit();if(user){getUserInfoAsc();new bk.ui.enctip()}};function userbarEvent(){var E,D,B;function A(I,H){I.style.display=B?"none":"block";I.style.left=H+"px"}function F(H){B&&userbarHover(H)}function C(){E=null;D=null;baidu.un(window,"unload",C)}baidu.on(window,"resize",F);baidu.on(document,"click",F);baidu.on(window,"unload",C);return function(I){(I||window.event).cancelBubble=true;E=E||baidu.G("usrbar");D=D||baidu.G("nav_extra");var J=baidu.G("my_home"),K=E.scrollHeight,H=J.offsetLeft;H=H-6;A(D,H);baidu.G("usrbar").scrollWidth;B=!B}}baidu.more.ns("bk.userbar");bk.userbar.init=function(){window.userbarHover=userbarEvent();var A=baidu.G("my_home_container");var B=baidu.G("nav_extra");if(A){baidu.on(A,"mouseover",userbarHover)}if(B){baidu.on(B,"mouseout",function(E){var D=baidu.event.getPageX(E);var H=baidu.event.getPageY(E);var F=baidu.dom.getPosition(B);var C=baidu.q("body",B,"div");var C=C&&C[0];if(C){if(D<F.left+3||D>=F.left+parseInt(baidu.getStyle(B,"width"),10)-3||H<F.top+3||H>=baidu.dom.getPosition(C).top+C.offsetHeight-3){if(B.style.display=="block"){userbarHover(E)}}}})}};var pop={onOk:function(){},onclosed:function(){},onshow:function(){},create:function(){if(!baidu.G("pop-main")){var B=document.createElement("div");B.id="pop-shadow";var C=document.createElement("div");C.id="pop-main";C.style.width="500px";var A=document.createElement("iframe");A.id="pop-shadow-iframe";var D=[,'<div class="p-bg">','<div class="p-top">','<div class="p-title"><div id="pop-close"></div><p id="pop-title">信息提示</p></div>','<div class="p-r1"></div><div class="p-r2"></div>',"</div>",'<div class="p-body"><div class="p-body-inner">','<iframe id="pop-iframe-content" name="pop-iframe-content" width="100%" frameborder="0" scrolling="no" src="about:blank"></iframe>','<div id="pop-text-content"></div>',"</div></div>",'<div class="p-bottom"><div class="p-r3"></div><div class="p-r4"></div><div class="clear"></div></div>','</div><div id="pop-shadow-bg"></div>'];C.innerHTML=D.join("");document.body.insertBefore(A,document.body.firstChild);document.body.insertBefore(C,document.body.firstChild);document.body.insertBefore(B,document.body.firstChild)}},resize:function(B,A,L){var D=baidu.page;var P=D.getScrollTop();var M=D.getWidth()||500;var E=D.getHeight()||500;var O=baidu.G("pop-shadow");var C=baidu.G("pop-shadow-bg");var J=baidu.G("pop-main");var I=baidu.G("pop-shadow-iframe");var N=A||parseInt(J.style.width,10)||500;var F=L||J.offsetHeight||parseInt(J.style.height,10)||500;O.style.width=M+"px";O.style.height=E+"px";O.style.left=O.style.top="0px";I.style.width=(M-20)+"px";I.style.height=(E-20)+"px";I.style.top=I.style.left="5px";var K=(D.getViewWidth()-N)/2;var H=(D.getViewHeight()-F)/2+P;if(K<1){K=P}if(H<1){H="20"}J.style.left=K+"px";J.style.top=H+"px";J.style.width=N+"px";C.style.height=F+"px";if(L&&baidu.G("pop-iframe-content").style.display=="block"){baidu.G("pop-iframe-content").style.height=L+"px"}},hide:function(){pop.onclosed();var A=function(E){E=baidu.G(E);if(E){baidu.hide(E)}};try{A("pop-main");A("pop-shadow");A("pop-shadow-iframe");var D=baidu.G("pop-iframe-content");try{D.src="about:blank"}catch(C){try{D.location="about:blank"}catch(C){}}}catch(B){}baidu.un(window,"resize",pop.resize);baidu.un(document,"onkeydown",pop.keyListener)},keyListener:function(B){B=window.event||B;var A=B.which||B.keyCode;if(27==A){pop.hide()}},config:function(H,A){pop.create();if(H){baidu.G("pop-title").innerHTML=H}pop.onclosed=A.onclosed||function(){};pop.onshow=A.onshow||function(){};var I=baidu.G("pop-iframe-content");var C=baidu.G("pop-text-content");if(A.url){if(A.url!=true){C.innerHTML="";baidu.hide(C);I.style.display="block";try{I.src=A.url}catch(E){try{document.frames["pop-iframe-content"].location=A.url}catch(E){}}}if(A.scrollX){I.style.overflowX=A.scrollX}if(A.scrollY){I.style.overflowY=A.scrollY}if(A.scroll){I.style.overflow=A.scroll}}else{if(A.info){baidu.hide(I);C.style.display="block";C.innerHTML=A.info}}var B=A.width||450;var F=A.height||400;var D=baidu.G("pop-main");D.style.width=B+"px";if(A.url&&I.style.display=="block"){I.style.height=F+"px";I.style.width=(B-30)+"px"}},show:function(B,A){pop.create();pop.config(B,A);baidu.G("pop-close").onclick=pop.hide;baidu.G("pop-main").style.display="block";baidu.G("pop-shadow").style.display="block";baidu.G("pop-shadow-iframe").style.display="block";baidu.G("pop-title").onselectstart=function(){return false};pop.resize();baidu.on(window,"resize",pop.resize);baidu.on(document,"onkeydown",pop.keyListener)}};baidu.more.ns("tools.text");tools.text.cutByWidth=function(A,D,E){if(E){if(!baidu.browser.firefox||baidu.browser.firefox<1){return }}for(var B=A.length-1;B>=0;B--){if(A[B].scrollWidth>D){A[B].innerHTML+="..."}var C=A[B].innerHTML;while(A[B].scrollWidth>D){if(A[B].scrollWidth<8){break}C=C.substr(0,C.length-4)+"...";A[B].innerHTML=C}}};baidu.more.ns("tools.image");tools.image.sizelimit=function(B,H,F,C){if(B.width<=H&&B.height<=F){return }if(B.width>0&&B.height>0){var A=B.width;var E=B.height;var D=Math.min(H/A,F/E);B.style.height="";B.style.width="";B.height=Math.ceil(E*D);B.width=Math.ceil(A*D);if(C){B.style.marginTop=((F-B.height)/2)+"px"}}else{B.style.height="";B.style.width="";B.style.width=H;B.style.height=F}};baidu.more.ns("tools.fixable");tools.fixable=function(D,C){var D=baidu.g(D);if(D){var B=baidu.page.getHeight();if(baidu.ie&&baidu.ie<7){baidu.setStyle(D,"position","absolute");var A=(C.top||baidu.page.getViewHeight());D.style.setExpression("top","eval((document.documentElement||document.body).scrollTop+"+A+") + 'px'")}else{baidu.setStyle(D,"position","fixed")}baidu.setStyles(D,C)}};baidu.dom.ready(function(){baidu.on(document,"mousedown",function(E){var B=baidu.event.get(E);var D=B.target;if(D.nodeType==1){var F=D.className.match(/nslog:(\d+)/);if(F){var C=location.href;if(D.href){C=D.href}nslog(C,F[1],{x:B.pageX,y:B.pageY})}}D=null});var A=baidu.q("nslog-area",document);baidu.each(A,function(B){baidu.on(B,"mousedown",function(F){var D=baidu.dom.getAttr(B,"data-nslog-type");var C=baidu.event.get(F);var E=C.target;if(E.href){url=E.href;nslog(url,D,{x:C.pageX,y:C.pageY})}E=null})});A=null});baidu.dom.ready(function(){if(baidu.G("search")){baidu.sio.callByBrowser("/js/sug.js")}});baidu.more.ns("lemma");baidu.more.ns("bk.view");baidu.more.ns("bk.view");baidu.more.ns("bk.view.timer");bk.view.catalog=(function(){var A={};A.init=function(){this.holder1=document.getElementById("holder1");this.holder2=document.getElementById("holder2");this.temp=null;this.data=null;this.mT=null;this.fadeT=null;this.mItems=this.holder1.getElementsByTagName("DD");this.mItemNum=this.holder1.getElementsByTagName("DD").length;this.mSubItems=null;this.mSubItemNum=0;this.mSub=this.holder1.getElementsByTagName("OL");this.mSubNum=this.mSub.length;this.mShowNum=8;this.h=0;this.dataH=0;this.fade=0};A.start=function(){if(!baidu.G("catalog")){return }A.init();if(A.mItemNum<=A.mShowNum&&A.mSubNum==0){return }var B="";var H="";for(var D=0;D<A.mSubNum;D++){A.mSub[D].style.display="inline"}var C=A.holder1.offsetWidth;for(var D=0;D<A.mSubNum;D++){A.mSub[D].style.display="none"}if(A.mItemNum>A.mShowNum){for(var D=0;D<A.mShowNum;D++){B+="<dd>"+A.mItems[D].innerHTML+"</dd>"}H="<dd id='cata-temp' class='temp'><ul id='cata-data' class='data'>";for(var D=A.mShowNum;D<A.mItemNum;D++){H+="<li>"+A.mItems[D].innerHTML+"</li>"}H+="</ul></dd>";A.holder2.innerHTML=B+H;for(var D=A.mShowNum;D<A.mItemNum;D++){A.mItems[D].style.display="none"}A.temp=document.getElementById("cata-temp");A.data=document.getElementById("cata-data");A.holder2.style.display="block";A.temp.style.height=0+"px";A.dataH=A.data.offsetHeight;var F=Math.round((A.dataH-A.mShowNum*22)/2);F=F-F%22;A.step=Math.max(22,F)}else{A.holder2.innerHTML=A.holder1.innerHTML}A.holder1.style.width=C+"px";A.holder2.style.width=C+"px";A.holder1.style.visibility="hidden";A.holder1.style.paddingBottom="20px";A.holder2.style.display="block";A.holder2.className="arr";var E=document.createElement("div");E.id="catalog-holder";E.className="nslog:1017";E.innerHTML="展开";A.holder2.appendChild(E);E=null;A.mSubItems=A.holder2.getElementsByTagName("OL");A.mSubItemNum=A.mSubItems.length;baidu.on(baidu.g("catalog-holder"),"mouseover",function(){baidu.addClass(this,"hover")});baidu.on(baidu.g("catalog-holder"),"mouseout",function(){baidu.removeClass(this,"hover")});baidu.on(baidu.g("catalog-holder"),"click",A.toggle);baidu.on(A.holder2,"mousedown",A.holderClick)};A.status=false;A.toggle=function(){clearTimeout(A.mT);try{baidu.un(document,"click",A.outclick)}catch(B){}if(A.status){A.min()}else{A.mT=setTimeout(A.maxM,10);A.status=true;baidu.on(document,"click",A.outclick)}};A.outclick=function(D){var B=baidu.event.get(D);var C=B.target;if(!baidu.dom.contains(baidu.g("catalog"),C)){clearTimeout(A.mT);A.min();try{baidu.un(document,"click",A.outclick)}catch(D){}}B=C=null};A.holderClick=function(E){var B=baidu.event.get(E);var C=B.target;if(A.status){if(C.nodeType==1){if(C.nodeName.toUpperCase()=="A"){A.min();var D=C.href.match(/#(.*)/);if(D){location.hash=D[0]}}}}else{if(C.nodeType==1&&C.id=="catalog-holder"){}else{if(!(C.nodeType==1&&C.nodeName.toUpperCase()=="A")){A.toggle()}}}B=C=null};A.min=function(){clearTimeout(A.mT);if(A.mSubNum>0){A.mT=setTimeout(A.hideSecondTitle,10)}else{A.mT=setTimeout(A.minM,100)}A.status=false};A.maxM=function(){baidu.g("catalog-holder").className="nslog:1018";baidu.g("catalog-holder").innerHTML="收起";A.holder2.className="up";if(A.h<A.dataH){A.h+=A.step;A.h=Math.min(A.h,A.dataH);A.temp.style.height=A.h+"px";A.data.style.marginTop=(A.h-A.dataH)+"px";A.mT=setTimeout(A.maxM,10)}else{A.showSecondTitle()}A.status=true};A.minM=function(){baidu.g("catalog-holder").innerHTML="展开";A.holder2.className="arr";if(A.h>0){A.h-=A.step;A.h=Math.max(A.h,0);A.temp.style.height=A.h+"px";A.data.style.marginTop=(A.h-A.dataH)+"px";A.mT=setTimeout(A.minM,10)}};A.fadeIn=function(){clearTimeout(A.fadeT);if(A.fade>=100){return }A.fade+=25;for(var B=0;B<A.mSubItemNum;B++){A.mSubItems[B].style.filter="Alpha(Opacity="+A.fade+")";A.mSubItems[B].style.opacity=A.fade/100}A.fadeT=setTimeout(A.fadeIn,20)};A.fadeOut=function(){clearTimeout(A.fadeT);if(A.fade<=25){for(var B=0;B<A.mSubItemNum;B++){A.mSubItems[B].style.display="none"}if(A.mItemNum>A.mShowNum){A.h=A.data.offsetHeight;A.temp.style.height=A.h+"px"}A.mT=setTimeout(A.minM,20);return }A.fade-=25;A.fadeT=setTimeout(A.fadeOut,20)};A.showSecondTitle=function(){for(var B=0;B<A.mSubItemNum;B++){A.mSubItems[B].style.display="block"}if(A.mItemNum>A.mShowNum){A.h=A.data.offsetHeight;A.temp.style.height=A.h+"px"}else{}clearTimeout(A.mT)};A.hideSecondTitle=function(){clearTimeout(A.mT);for(var B=0;B<A.mSubItemNum;B++){A.mSubItems[B].style.display="none"}if(A.mItemNum>A.mShowNum){A.h=A.data.offsetHeight;A.temp.style.height=A.h+"px"}A.mT=setTimeout(A.minM,20)};A.showCatalog=function(){var B=A.holder1.style.display=="none";A.holder1.style.display=B?"block":"none";if(A.mItemNum<=A.mShowNum&&A.mSubNum==0){A.holder2.style.display="none"}else{A.holder2.style.display=B?"block":"none"}document.getElementById("dir_alt").innerHTML=B?"\u9690\u85cf":"\u663E\u793A"};return{start:A.start,showCatalog:A.showCatalog}})();baidu.more.ns("bk.view.sidecatalog");bk.view.sidecatalog.step=20;bk.view.sidecontentList=[];bk.view.sidecatalog.totalHeigth=0;bk.view.sidecatalog.vHeight=80;bk.view.sidecatalog.togglestatus=false;bk.view.sidecatalog.catalogEle=null;bk.view.sidecatalog.checkToShow=function(){var D=baidu.page.getScrollTop();var A=baidu.g("catalog");var C=500;var B=baidu.page.getHeight()-baidu.page.getViewHeight()-20;if(A){C=baidu.dom.getPosition(A).top+A.offsetHeight}if(D<C){return false}else{return true}};bk.view.sidecatalog.contentScroll=function(E){var C=baidu.g("side-title-list");var B=E*bk.view.sidecatalog.step;var D=bk.view.sidecatalog.vHeight;var H=bk.view.sidecatalog.totalHeigth;if(D<=0){return }var F=parseInt(C.style.top)||0;var I=F+B;var J="normal";if(I>=0){I=0;J="top"}if(I+H<=D){I=Math.min(-H+D,0);J=(J=="top")?"both":"bottom"}bk.view.sidecatalog.statuschange(J);I=I-I%bk.view.sidecatalog.step;var A=new FX(C,{top:{to:I}},0.3,"linear");A.start()};bk.view.sidecatalog.init=function(){var B=baidu.g("holder1");bk.view.sidecatalog.catalogEle=baidu.g("catalog");var A=baidu.g("page");if(!B){baidu.g("sidebar").style.visibility="hidden";nslog("sidebar",1025,{catalog:0})}else{bk.view.sidecontentbuild();baidu.on("side-catalog-up","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(3)},300)});baidu.on("side-catalog-up","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll)});baidu.on("side-catalog-up","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(3)});baidu.on("side-catalog-down","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(-3)},300)});baidu.on("side-catalog-down","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(-3)});baidu.on("side-catalog-down","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll)});baidu.on("side-catalog-up","mouseover",function(C){if(this.className!="disabled"){baidu.addClass(this,"hover")}});baidu.on("side-catalog-up","mouseout",function(C){baidu.removeClass(this,"hover")});baidu.on("side-catalog-down","mouseout",function(C){baidu.removeClass(this,"hover")});baidu.on("side-catalog-down","mouseover",function(C){if(this.className!="disabled"){baidu.addClass(this,"hover")}});nslog("sidebar",1025,{catalog:1})}};bk.view.sidecontentbuild=function(){var N=baidu.g("lemmaContent");var E=N.getElementsByTagName("h2");var C=N.getElementsByTagName("h3");var A=[];var K=0;function T(U){return U.replace(/<[^>]*>.*<\/[^>]>/g,"")}function D(V,W){var U=T(V.innerHTML);return{ele:V,title:U,level:W}}for(var O=0,M=E.length;O<M;O++){var I=D(E[O],1);A.push(I);var L=null;if(E[O+1]){L=E[O+1]}for(var P=C.length;K<P;K++){var B=C[K];if(O==0&&B.offsetTop<E[O].offsetTop){continue}if(L==null||L&&(B.offsetTop<L.offsetTop&&B.offsetTop>E[O].offsetTop)){A.push(D(B,2));continue}break}}bk.view.sidecontentList=A;var J=document.createElement("div");var R=document.createElement("div");var F=document.createElement("div");var H=document.createElement("div");R.id="side-title-list";J.id="side-title-panel";F.id="side-catalog-up";H.id="side-catalog-down";baidu.each(A,function(X,V){var U="h2";if(X.level==2){U="h3"}var W=document.createElement(U);W.innerHTML=["<a href='#' class='nslog:1026' data-index = '"+V+"'","title='",baidu.string.encodeHTML(X.title),"'>",X.title,"</a>"].join("");R.appendChild(W);W=null});J.appendChild(R);var S=baidu.g("side-catalog-content");F.innerHTML="<div></div>";H.innerHTML="<div></div>";S.appendChild(F);S.appendChild(J);S.appendChild(H);var Q=R.getElementsByTagName("a");for(var O=0,M=Q.length;O<M;O++){baidu.on(Q[O],"click",function(U){bk.view.catalogscrollto(baidu.dom.getAttr(this,"data-index"));baidu.event.preventDefault(U)})}Q=null;R=J=F=H=S=null};bk.view.catalogscrollto=function(A){if(bk.view.sidecontentList[A]){var B=baidu.dom.getPosition(bk.view.sidecontentList[A].ele).top-40;window.scrollTo(0,B)}};bk.view.sidecatalog.statuschange=function(A){switch(A){case"top":baidu.g("side-catalog-up").className="disable";baidu.removeClass("side-catalog-down","disable");break;case"bottom":baidu.g("side-catalog-down").className="disable";baidu.removeClass("side-catalog-up","disable");break;case"normal":baidu.removeClass("side-catalog-up","disable");baidu.removeClass("side-catalog-down","disable");break;case"both":baidu.g("side-catalog-up").className="disable";baidu.g("side-catalog-down").className="disable";break}};bk.view.sidecatalog.toggle=function(){var A=false;return function(){baidu[A?"hide":"show"]("side-catalog-content");baidu[A?"removeClass":"addClass"]("sidebar","show");A=!A;bk.view.sidecatalog.togglestatus=A;var B=bk.view.sidecatalog.tofocus;if(baidu.ie&&baidu.ie<7){B=bk.view.sidecatalog.delayfocus}if(A){bk.view.sidecatalog.tofocus();baidu.on(window,"scroll",B)}else{try{baidu.un(window,"scroll",B)}catch(C){}}nslog("sidecatalog.toggle",1027,{status:A})}};bk.view.sidecatalog.delayfocus=function(){clearTimeout(bk.view.timer.scroll_catalogfocus);bk.view.timer.scroll_catalogfocus=setTimeout(bk.view.sidecatalog.tofocus,200)};bk.view.sidecatalog.tofocus=function(){if(bk.view.sidecatalog.togglestatus){var I=baidu.page.getScrollTop()+40;var D=baidu.g("side-title-list");if(bk.view.sidecatalog.totalHeigth==0){bk.view.sidecatalog.totalHeigth=D.offsetHeight}if(D&&bk.view.sidecatalog.totalHeigth>0){var F=bk.view.sidecatalog.vHeight;var K=bk.view.sidecatalog.totalHeigth;if(F<=0||K==0){return }for(var H=0,B=bk.view.sidecontentList.length;H<B;H++){if(baidu.dom.getPosition(bk.view.sidecontentList[H].ele).top<=I&&((H+1==B)||((H+1<B)&&baidu.dom.getPosition(bk.view.sidecontentList[H+1].ele).top>I))){var C=H*bk.view.sidecatalog.step;var A=F/2;A=A-A%20;var E=Math.min(F-C-A,0);var J="normal";if(E+K<=F){E=-K+F;J="bottom"}if(E==0){J=(J=="bottom")?"both":"top"}bk.view.sidecatalog.statuschange(J);baidu.dom.setStyle(D,"top",E);baidu.addClass(D.childNodes[H],"on")}else{baidu.removeClass(D.childNodes[H],"on")}}}}};bk.view.sidecatalog.resize=function(I){var F=baidu.g("sidecatalog");var D=baidu.g("side-catalog-content");var E=baidu.g("wrap");var H=baidu.dom.getPosition(E);var A=bk.view.sidecontentList.length*bk.view.sidecatalog.step+40;var C=Math.min(baidu.page.getViewHeight()-200,500);C=C-C%20;if(A>C){A=C}if(A<100){A=100}bk.view.sidecatalog.vHeight=A-40;tools.fixable(F,{top:(baidu.page.getViewHeight()-150),left:(E.offsetWidth+H.left-40-246)});tools.fixable(D,{overflow:"hidden",height:A,top:(baidu.page.getViewHeight()-A-60),left:(E.offsetWidth+H.left-259)});var B=baidu.g("side-title-panel");if(B){baidu.dom.setStyle(B,"height",A-40)}};bk.view.sidecatalog.scroll=function(C){var B=baidu.g("sidecatalog");clearTimeout(bk.view.timer.ele_side_catalog);if(!bk.view.sidecatalog.checkToShow()){baidu.hide(B);baidu.hide(baidu.g("side-catalog-content"))}else{baidu.show(B);if(bk.view.sidecatalog.togglestatus){baidu.show("side-catalog-content");var A=baidu.g("side-title-list").offsetHeight;if(A>0){bk.view.sidecatalog.totalHeigth=A}}}};baidu.dom.ready(function(){bk.view.sidecatalog.init();bk.view.sidecatalog.resize();bk.view.sidecatalog.scroll();baidu.on(window,"scroll",bk.view.sidecatalog.scroll);baidu.on("sidebar","click",bk.view.sidecatalog.toggle());baidu.on(window,"resize",bk.view.sidecatalog.resize)});var Detect={detecting:function(){handle_doDetect()},url:"",id:"",uptime:"",upnum:"",upst:"",content:"",latestid:""};function formatDetect(B){var A=Fe.Dialog.open("/page/detect.html",B);return A}Detect.callback=function(C){if(C.conflictVersionNum>=C.conflictLimit){if(C.conflictLimit){var A;if(baidu.G("BkLogUser")){A="func=editdeny&username="+baidu.G("BkLogUser").innerHTML+"&lid="+baikeViewInfo.id}else{A="func=editdeny&lid="+baikeViewInfo.id}nslog.stat(A);Detect.content="很抱歉，该词条已有多个版本正在提交中，您当前无法编<br>辑该词条：（<br><br>百科建议您晚些时候再尝试编辑该词条，或尝试编辑其他<br>词条。";var B=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:false,buttonCancel:true,contentType:"HTMLUrl",locked:true,buttonCancelValue:"返回"})}else{if(C.isMidNight==1){Detect.content='您当前的编辑时间属百科<a href="http://www.baidu.com/search/baike_help.html#n22" target="_blank">特殊编辑时段</a>。<br><br>为保证您的编辑成果在提交后的最短时间内生效，百科建<br>议您选择其他时间进行编辑：）<br><br>仍然要继续编辑吗？';var B=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});B.onaccept=function(){window.location=Detect.url}}else{window.location=Detect.url}}}else{if((C.conflictDegree==1)||(C.conflictDegree==2)){Detect.content="该词条当前已有其他版本正在等待通过。<br><br>为了保障您的编辑能得到及时通过，建议您稍后再编辑<br>本词条：）<br><br>仍然要继续吗？";var B=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});B.onaccept=function(){window.location=Detect.url}}else{if(C.isMidNight==1){Detect.content='您当前的编辑时间属百科<a href="http://www.baidu.com/search/baike_help.html#n22" target="_blank">特殊编辑时段</a>。<br><br>为保证您的编辑成果在提交后的最短时间内生效，百科建<br>议您选择其他时间进行编辑：）<br><br>仍然要继续编辑吗？';var B=formatDetect({title:"编辑提示",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});B.onaccept=function(){window.location=Detect.url}}else{window.location=Detect.url}}}};Detect.doDetect=function(){var _str="tp=0&r="+Math.random()+"&lemmaid="+Detect.id+"&lemmaVersionId=0";var _url="/getConflictInfo/?"+_str;baidu.ajax.get(_url,function(xhr){Detect.callback(eval("("+xhr.responseText+")"))})};function formatDetect_privcheck(B){var A=Fe.Dialog.open("/page/privcheck.html",B);return A}function handle_doDetect(){baidu.sio.callByBrowser("/js/Dialog/Dialog.js",function(){var A="/api/editcheck?lemmaId="+baikeViewInfo.id;baidu.ajax.get(A,function(D,C){if(C=="12"){Detect.content='<center><h2>对不起，您暂时没有权限编辑该词条。</h2></center><p>您好，该词条内容已较丰富，现仅对百科等级达到<b>四级</b>，且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p>如果您认为该词条还需进一步完善，可以到<a href="http://tousu.baidu.com/baike/add" target="_blank">投诉中心</a>反馈。</p>';var B=formatDetect_privcheck({title:"编辑提示",width:"402px",height:"181px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true})}else{Detect.doDetect()}})})}baidu.more.ns("bk.view");bk.view.showEditLinks=function(){function A(E){var D=baidu.dom.getAttr(E,"data-edit-id");if(D){var C=D;var B=0;D=D.split(":");if(D.length>1){C=D[0];B=D[1]}E.innerHTML=["<a href='#' class='nslog:1019' onclick='bk.view.editLemma(\"/edit/\",",C,",",B,");return false'>编辑本段</a>"].join("")}}baidu.each(baidu.q("editable-title"),A)};bk.view.showEditButton=function(){baidu.each(baidu.q("editable-lemma","content","span"),function(A){var B=baidu.dom.getAttr(A,"data-edit-id");if(B){baidu.on(A,"mouseover",function(){baidu.dom.addClass(this,"hover")});baidu.on(A,"mouseout",function(){baidu.dom.removeClass(this,"hover")});baidu.on(A,"click",function(){bk.view.editLemma("/edit/",B);nslog("edit",1020)})}})};baidu.dom.ready(function(){if(baikeViewInfo.editable!="false"){bk.view.showEditLinks();bk.view.showEditButton()}});bk.view.editRelated=function(){baidu.sio.callByBrowser("/js/Dialog/Dialog.js",function(){var A="/api/editcheck?lemmaId="+baikeViewInfo.id;baidu.ajax.get(A,function(D,C){if(C=="12"){Detect.content='<center><h2>对不起，您暂时没有权限编辑该词条。</h2></center><p>您好，该词条内容已较丰富，现仅对百科等级达到<b>四级</b>，且通过率达到<b>85%</b>的科友开放编辑。</p><p>当您通过努力达到以上要求，就可以参与编辑该词条了。</p><p>如果您认为该词条还需进一步完善，可以到<a href="http://tousu.baidu.com/baike/add" target="_blank">投诉中心</a>反馈。</p>';var B=formatDetect_privcheck({title:"编辑提示",width:"402px",height:"181px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true})}else{var E="/relatedEdit/?id="+baikeViewInfo.id+"&title="+G("titleVal").value;g_pop=new Popup({contentType:1,isReloadOnClose:false,width:536,height:550});g_pop.setContent("title","完善相关词条");g_pop.setContent("contentUrl",E);g_pop.build();g_pop.show()}})})};bk.view.editLemma=function(E,A,B){Detect.url=E+"id="+A+(B?"&dl="+B:"");if(location.href.indexOf("fr=")!=-1){var F=location.search.split("&");var C="";baidu.each(F,function(H,I){if(H.indexOf("fr=")!=-1){C=H}});Detect.url+="&"+C}Detect.id=A;var D=(B?"part_edit":"edit");userlogin.check(Detect.detecting,false,D)};editLemmaPara=bk.view.editLemma;baidu.more.ns("lemma");baidu.more.ns("bk.view");bk.view.vote=function(){var A="/view/getLemmaCountAsc/lemmaid="+baikeViewInfo.id+"&random="+Math.random();baidu.sio.callByBrowser(A)};function ascUpdateData(A){if(A.length==1){if(A[0]>=0){baidu.G("vote_num").innerHTML=A[0];baidu.G("vote_txt").innerHTML="您已评价，谢谢！"}else{if(A[0]==-1){baidu.G("vote_txt").innerHTML="您已评价，谢谢！"}}}}function gotoRef(B){if(!B){return false}var D=B.innerHTML.replace(/\[/g,"").replace(/\]/g,"");var D=parseInt(D);if(D>=0){var A=baidu.G("refIndex_"+D);if(A&&A.parentNode){var C=baidu.dom.getPosition(A.parentNode).top-0;if(C>0){window.scrollTo(0,C)}}}}bk.view.showMoreRelated=function(){var B=baidu.G("word_more");var A=baidu.G("word_more_con");if(A.style.display=="none"){B.className="word_more2";A.style.display="";A.title="收起"}else{B.className="word_more1";A.style.display="none";A.title="展开"}};bk.view.coEditorInit=function(){var A=baidu.G("co-editors");if(!A){return }if(A.offsetHeight>25){baidu.show("more-coeditor");var B=A.getElementsByTagName("span");while(A.offsetHeight>25&&B.length>0){A.removeChild(B[B.length-1])}}};bk.view.relatedInit=function(){var A=baidu.G("word_more");if(!A){return false}var H=baidu.G("word_more_con").getElementsByTagName("a");var C=baidu.G("onelinespan");var B=baidu.G("onelinediv");var F=H.length;for(var D=0;D<F;D++){var E=H[D].cloneNode(true);C.appendChild(E);if(C.offsetWidth>(B.offsetWidth-60)){C.removeChild(E);A.style.visibility="visible";B.style.visibility="visible";baidu.on(A,"mouseover",function(){baidu.addClass(this.childNodes[0],"hover")});baidu.on(A,"mouseout",function(){baidu.removeClass(this.childNodes[0],"hover")});return }}B.style.visibility="visible"};bk.view.getDays=function(C){if(!C){return""}var A=C.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);A[2]=parseInt(A[2],10)-1;var F=new Date(A[1],A[2],A[3]);var B=new Date();var D=new Date(B.getFullYear(),B.getMonth(),B.getDate()-1);var E=parseInt((F-D)/(1000*3600*24));switch(E){case 1:return"今天";case 0:return"昨天";case -1:return"2天前";case -2:return"3天前"}return C};function ctrlBKDynamic(){if(typeof bkDynamic!="undefined"){var A=bkDynamic[0];baidu.G("profileTitle").innerHTML=A;if(!!bkDynamic[1][0]){baidu.G("task").innerHTML="<dt><strong>"+bkDynamic[1][0]+'</strong>：<a href="'+bkDynamic[1][1][1]+'" target="_blank">'+bkDynamic[1][1][0]+'</a></dt> <dd><a href="'+bkDynamic[1][1][1]+'" target="_blank"><img src="'+bkDynamic[1][1][2]+'" width="160" height="81"></a></dd>';baidu.show("task")}if(!!bkDynamic[2][0]){baidu.G("notice").innerHTML="<dt><strong>"+bkDynamic[2][0]+"</strong>：</dt>"+bkDynamic[2][1];baidu.show("task")}baidu.show("bkDynamic");baidu.each(baidu.G("bkDynamic").getElementsByTagName("a"),function(C,B){baidu.on(C,"click",function(){nslog(this.href,235,{index:B})})})}}bk.view.getDynamicData=function(){baidu.sio.callByBrowser("/template/baikeDynamicData.js?random="+Math.random())};bk.view.reflow=function(){baidu.g("lemmaContent").style.zoom=1.01;baidu.g("lemmaContent").style.zoom=1};function getUserInfoAsc(){var A="/api/personalmesg?date="+new Date().getTime();baidu.ajax.get(A,function(B){showUserInfo(B);window.setTimeout(bk.ui.enctip.build_userinfo_tip,300)})}function showUserInfo(xhr){var json=eval("("+xhr.responseText+")");baidu.G("userPic").src=json.base.avatar;var unLen=24;if(json.base.odp){unLen-=4;baidu.G("kedoutuanPic").style.display="inline"}if(json.base.admin){unLen-=6;baidu.G("masterPic").style.display="inline"}var highVersionLink=baidu.G("highVersionLink");baidu.G("highVersionNum").innerHTML=json.base.hqVerNum;var goodVersionLink=baidu.G("goodVersionLink");baidu.G("goodVersionNum").innerHTML=json.base.goodVerNum;if(json.base.hqVerNum>0){highVersionLink.href="/uc/effort/#8"}if(json.base.goodVerNum>0){goodVersionLink.href="/uc/effort/#7"}var userTitleLink=baidu.G("userTitleLink");userTitleLink.innerHTML=json.base.username.subByte(unLen);baidu.G("userTitlePic").className="usertitle level"+json.base.level;baidu.G("userProcess").style.width=json.base.scorept+"%";if(json.hotword&&json.hotword.suc){words=json.hotword.data.words;showHotwords();baidu.G("hotWord").style.display="block"}var effortObj={notpassed:["未通过版本","/uc/effort/#3"],HQVersion:["高质量版本","/uc/effort/#8"],goodVersion:["优质版本","/uc/effort/#7"],passVersion:["已通过版本","/uc/effort"]};if(json.effort&&json.effort.suc){var data=json.effort.data;for(var i in data){var flag=true;break}if(flag){var effArr=[];for(var i in data){var len=32-effortObj[i][0].byteLength();effArr.push("<li>・");effArr.push('<a class="ef-type" href="');effArr.push(effortObj[i][1]);effArr.push('" target="_blank" onclick="nslog(this.href,242);">');effArr.push(effortObj[i][0]);effArr.push("</a><span>：</span>");effArr.push('<a href="http://baike.baidu.com/history/id=');effArr.push(data[i].versionid);effArr.push('" target="_blank">');effArr.push(data[i].title.subByte(len));effArr.push("</a>");effArr.push("</li>")}baidu.G("efforts").innerHTML=effArr.join("");baidu.G("effort").style.display="block";nslog(location.href,244);baidu.each(baidu.G("effort").getElementsByTagName("a"),function(ele){baidu.on(ele,"mousedown",function(){nslog(this.href,243)})})}}baidu.G("userInfoDiv").style.display="block";var userTip=baidu.G("userTip");var hotHelpTip=baidu.G("hotHelpTip");var startPos=58;var endPos=215;baidu.G("userTipArrow").style.left=Math.round(startPos+(endPos-startPos)*json.base.scorept/100)-4+"px";var userProcessBack=baidu.G("userProcessBack");baidu.on(userProcessBack,"mouseover",showTip(baidu.G("userTip")));baidu.on(userProcessBack,"mouseout",hideTip(baidu.G("userTip")));baidu.G("userLevel").innerHTML=json.base.level;baidu.G("totalscore").innerHTML=json.base.totalscore;baidu.G("scorediff").innerHTML=json.base.scorediff;baidu.G("nextlevel").innerHTML=json.base.nextlevel;var hotHelpE=baidu.G("hotHelp");baidu.on(hotHelpE,"mouseover",showTip(hotHelpTip));baidu.on(hotHelpE,"mouseout",hideTip(hotHelpTip))}function showHotwords(){var C=words.length||0;var M=4;var F=[];while(F.length!=4){var D=Math.round(Math.random()*(C-1));var L=false;for(var A=0;A<F.length;A++){if(F[A]==D){L=true;break}}if(L){continue}F.push(D);if(F.length==words.length){break}}var E="";var K=[];for(var A=0;A<4&&A<F.length;A++){var J=baidu.string.decodeHTML(words[F[A]].title);var I=baidu.string.decodeHTML(words[F[A]].perfectpoints);var B=baidu.string.decodeHTML(words[F[A]].reason);var H=J.subByte(10);K.push("<li>");K.push('・<a onclick="nslog(this.href,226);"  target="_blank" href="');K.push(words[F[A]].link+'"');K.push(' onmouseout="hideCompleteTip();"');K.push(' onmouseover="showCompleteTip('+A+", '"+baidu.string.encodeHTML(J).replace(/'/g,"&acute;")+"', '"+baidu.string.encodeHTML(I).replace(/'/g,"&acute;")+"');\">");K.push(baidu.string.encodeHTML(H));K.push("</a>");K.push("<span");K.push(' onmouseout="hideHotReasonTip();"');K.push(' onmouseover="showHotReasonTip('+A+",'"+baidu.string.encodeHTML(B).replace(/'/g,"&acute;")+"');\"");K.push(">：");K.push(baidu.string.encodeHTML(B.subByte(32-H.byteLength())));K.push("</span>");K.push("</li>")}baidu.G("hotWords").innerHTML=K.join("")}function showTip(A){return function(){if(timeout){clearTimeout(timeout);baidu.G("completeTip").style.display="none"}A.style.display="block"}}function hideTip(A){return function(){A.style.display="none"}}function hideHotReasonTip(){baidu.G("hotReasonTip").style.display="none"}var timeout;function hideCompleteTip(){timeout=setTimeout(function(){baidu.G("completeTip").style.display="none"},1000)}function showHotReasonTip(B,C){C=baidu.string.encodeHTML(C);if(timeout){clearTimeout(timeout);baidu.G("completeTip").style.display="none"}var A=baidu.G("hotReasonTip");baidu.G("hotReasonTipMain").innerHTML="<p>"+C+"</p>";A.style.top=54+B*20+"px";A.style.display="block"}function showCompleteTip(D,E,B){E=baidu.string.encodeHTML(E);B=baidu.string.encodeHTML(B);if(timeout){clearTimeout(timeout)}var C=baidu.G("completeTip");baidu.G("completeTipMain").innerHTML="<p>"+E+"</p><p><span>完善点：</span>"+B+"</p>";C.style.display="block";var A=C.scrollHeight;C.style.top=54+D*20-A-21+"px"}baidu.more.ns("bk.view");bk.view.adjustImage=function(B,C,D,A,F){tools.image.sizelimit(B,D,A);var E=baidu.g(C);setTimeout(function(){if(E){var H=B.width;E.style.width=(H-20)+"px";E.parentNode.style.width=(H+6)+"px";if(F){baidu.g(F).style.width=(659-H)+"px"}E=null}},40)};bk.view.imageTitleInit=function(D){var C=D.getElementsByTagName("p")[0];var A=D.getElementsByTagName("img")[0];if(!!C){var B=C.innerHTML;if(/^\s*$/.test(B)){C.innerHTML="&nbsp;&nbsp;"}else{D.style.paddingBottom="3px";C.innerHTML=baidu.string.wbr(B)}}bk.view.picAct(D);D.style.width=A.offsetWidth+"px";D.style.visibility="visible"};bk.view.contentImageInit=function(){baidu.each(baidu.Q("text_pic",baidu.G("lemmaContent")),function(A){bk.view.imageTitleInit(A)})};bk.view.lemmapic=function(){var A=baidu.q("pic","content","div");baidu.each(A,function(B){bk.view.picAct(B)})};bk.view.picAct=function(B){B.style.position="relative";var A=B.getElementsByTagName("a")[0];if(A&&A.href.match(/\/image\//)){var C=document.createElement("a");baidu.dom.addClass(C,"pic-handle");C.title="查看图片";C.href=A.href;C.innerHTML="&nbsp;&nbsp;";C.target="_blank";baidu.dom.insertBefore(C,A);baidu.on(B,"mouseover",function(){baidu.dom.addClass(B,"pic-hover")});baidu.on(B,"mouseout",function(){baidu.dom.removeClass(B,"pic-hover")});baidu.on(C,"mouseover",function(){baidu.dom.addClass(B,"pic-hover")})}A=null;C=null};baidu.dom.ready(bk.view.lemmapic);baidu.on(window,"load",bk.view.contentImageInit);baidu.dom.ready(function(){baidu.dom.ready(bk.userbar.check);baidu.ajax.get("/api/lemmacnt/"+baikeViewInfo.id,function(xhr){var result=eval("("+xhr.responseText+")");if(result){baidu.G("viewPV").innerHTML=result.pv;baidu.G("vote_num").innerHTML=result.rec;if(result.dynamic){bk.view.getDynamicData()}}});(function(){var vote_btn=baidu.G("vote_btn");baidu.on(vote_btn,"mouseover",function(){this.className="text_vote2"});baidu.on(vote_btn,"mouseout",function(){this.className="text_vote1";baidu.G("vote_txt").innerHTML="本词条对我有帮助"});baidu.on(vote_btn,"click",function(){baidu.sio.callByBrowser("/view/recommendLemma/lemmaid="+baikeViewInfo.id+"&random="+Math.random())});vote_btn=null})();baidu.each(document.getElementsByTagName("img"),function(img,index){if(img.className=="editorImg"){baidu.on(img,"mousedown",function(){nslog(this.src,8)})}});baidu.each(baidu.G("lemmaContent").getElementsByTagName("a"),function(ele,index){if(/\/view\/\d+/.test(ele.href)){baidu.on(ele,"mousedown",function(){nslog(this.href,12)})}});bk.view.relatedInit();bk.view.coEditorInit();(function(){var _hash=location.hash;if(_hash){setTimeout(function(){window.location.hash=_hash.slice(1)},1000)}var modifytime=baidu.G("lastModifyTime");modifytime.innerHTML=bk.view.getDays(baidu.trim(modifytime.innerHTML))})();baidu.on(baidu.g("gotop"),"click",function(e){baidu.event.preventDefault(e);nslog(location.href,1028);window.scrollTo(0,0)})});baidu.more.ns("bk.ui");if(typeof bk=="undefined"){bk={}}if(typeof bk.ui=="undefined"){bk.ui={}}bk.ui.enctip=function(){this.type=1;this.msg_url="/user/ajax/checknotice?entry="+this.type+"&r="+Math.random();this.has_login=true;this.id="encourage_tip_wrapper";this.cookie_name="bk_encourage_tip2";this.cookie_interval=1800000;this.init()};bk.ui.enctip.prototype={render:function(C){var A=document.createDocumentFragment();var B=document.createElement("div");B.id=this.id;B.className="encourage-tip";B.innerHTML='<div class="tri out"></div><div class="tri in"></div><dl class="encourage-content"><dt><p><a id="icon_url2" href="'+C.href+'" class="icon-address" onclick="nslog(\''+window.location.href+'\', 434)" target="_blank"><img id="icon_href2"  src="'+C.url+'" alt="打开链接" title="打开链接" /></a><span id="encourage_title">'+C.title+'</span><a class="del" onclick="bk.ui.enctip.prototype.close(\''+this.id+"');nslog('"+window.location.href+'\',442)" title="关闭"></a></p></dt><dd id="encourage_body">'+C.text+"</dd></dl>";A.appendChild(B);document.body.appendChild(A);bk.ui.enctip.set_nslog_area_type("encourage_body",435)},close:function(){var A=baidu.g("encourage_tip_wrapper");A.parentNode.removeChild(A)},init:function(){var A=false;if(this.has_login){var B=baidu.cookie.get(this.cookie_name);if(!B){A=true;baidu.cookie.set(this.cookie_name,baidu.url.jsonToQuery({show:A}),{expires:this.cookie_interval})}}if(A){this.get_content()}},get_content:function(){var A=this;baidu.ajax.get(this.msg_url,function(E){var C=bk.ui.enctip.format_result(baidu.json.parse(E.responseText),A.type);var B=false;for(var D in C){B=true;break}if(B){A.render(C)}})}};bk.ui.enctip.format_result=function(E,C){var D={};var A=E.length;if(A==0){return D}switch(C){case 0:case 1:D.href=E[0].iconHref;D.url=E[0].iconUrl;D.title=E[0].title;D.text=E[0].text;return D;break;case 2:D.href=E[0].iconHref;D.url=E[0].iconUrl;D.banner_href=E[0].bannerHref;D.banner_url=E[0].bannerBigUrl;D.title=E[0].title;D.text=[];break;case 3:D.href=E[0].iconHref;D.title=E[0].title;D.text=[];break;case 4:D.banner_href=E[0].bannerHref;D.banner_url=E[0].bannerUrl;D.text=E[0].text;return D;break}if(A>0){for(var B=0;B<A;++B){D.text.push(E[B].text)}}return D};bk.ui.enctip.build_tip_generic=function(B,E){var D=function(F){return E.call(null,F)};var C=B;var A="/user/ajax/checknotice?entry="+C+"&r="+Math.random();baidu.ajax.get(A,function(I){var F=baidu.json.parse(I.responseText);if(F.length>0){var H=bk.ui.enctip.format_result(F,C);D(H)}})};bk.ui.enctip.set_nslog_area_type=function(C,A){var B=(typeof C==="string")?baidu.g(C):C;baidu.each(B.getElementsByTagName("a"),function(D){D.target="_blank";D.className="nslog:"+A})};bk.ui.enctip.build_edit_tip=function(){var A=function(C){var B='<div id="encourage_tipbar"><div class="push-close-btn" alt="关闭" title="关闭"  onclick="nslog(\''+window.location.href+'\', 443);var msg_pb = document.getElementById(\'encourage_tipbar\');msg_pb.parentNode.removeChild(msg_pb);msg_pb=null"></div><div><a class="icon-address" id="encourage_icon_href" href="'+C.href+'" target="_blank"><img id="encourage_icon_url" src="'+C.url+'" alt="打开链接" title="打开链接"  /></a><span id="encourage_text">'+C.text+"</span></div></div>";if(baidu.g("inputShowMainInfoBoxDiv")){baidu.dom.insertHTML("inputShowMainInfoBoxDiv","afterEnd",B);bk.ui.enctip.set_nslog_area_type("encourage_text",436)}};bk.ui.enctip.build_tip_generic(0,A)};bk.ui.enctip.build_usercenter_tip=function(){var A=function(H){var C=H.text.length;var B=[];for(var F=0;F<C;++F){B.push("<li>・<span>");B.push(H.text[F]);B.push("</span></li>")}var D=window.location.href;var E='<div class="push-ads" id="push_ads"><a id="banner_href" href="'+H.banner_href+'" class="icon-address" target="_blank" onclick="nslog(\''+H.banner_href+'\',437)"><img id="banner_url" src="'+H.banner_url+'" alt="打开链接" title="打开链接"/></a><a class="del" onclick="nslog(\''+D+'\', 444);var del = document.getElementById(\'push_ads\');del.parentNode.removeChild(del);del=null"><img src="http://img.baidu.com/img/baike/encourage/push-del.gif" alt="关闭" title="关闭" /></a></div><dl class="mod-push" id="enc_push_bar"><dt><p><a id="encourage_icon_href" href="'+H.href+'" class="icon-address" target="_blank"><img id="encourage_icon_url" src="'+H.url+'" alt="打开链接" title="打开链接" /></a><span id="encourage_title">'+H.title+'</span></p><div class="del" onclick="nslog(\''+D+'\', 445);var del = document.getElementById(\'enc_push_bar\');del.parentNode.removeChild(del);del=null" title="关闭"></div></dt><dd><ul id="encouragements">'+B.join("")+"</ul></dd></dl>";baidu.dom.insertHTML("col_main","afterBegin",E);bk.ui.enctip.set_nslog_area_type("encouragements",438)};bk.ui.enctip.build_tip_generic(2,A)};bk.ui.enctip.build_userinfo_tip=function(){if(!baidu.g("encourage")){return }var A=function(E){baidu.g("encourage_icon_href").href=E.href;var F=baidu.g("encourage_title");F.href=E.href;F.innerHTML=E.title;var B=E.text.length;var D=[];for(var C=0;C<B;++C){D.push("<li>・<span>");D.push(E.text[C]);D.push("</span></li>")}var H=baidu.g("encouragements");H.innerHTML=D.join("");baidu.g("encourage").style.display="block";bk.ui.enctip.set_nslog_area_type(H,439)};bk.ui.enctip.build_tip_generic(3,A)};bk.ui.enctip.build_edit_success_tip=function(B){var A=function(F){var E='<a href="'+F.banner_href+'" onclick="nslog(\''+F.banner_href+'\',440)" target="_blank"><img width="450px" height="60px" src="'+F.banner_url+'" /></a>';var D=baidu.g("encourage_tip");D.innerHTML=E;D.style.display="block";var C=baidu.g("encourage_text");C.innerHTML=F.text;C.style.display="block"};bk.ui.enctip.build_tip_generic(4,A)};